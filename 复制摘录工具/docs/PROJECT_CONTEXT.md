# 项目上下文入口（新对话请先读这个）

## 1. 项目定位
剪贴板驱动的知识捕获系统（macOS），用户在浏览器或其他 App 复制内容后自动归类到“笔记”，并可一键复制整篇笔记。

## 2. 当前版本目标（PRD v1.0）
- 浏览器：同一标准化 URL 归为同一笔记
- 非浏览器：App 名 + 窗口标题归为同一笔记
- 笔记内按顺序保存文本/图片
- 描述栏固定包含：摘要 + 作者 + 时间 + 关键词
- 一键复制整篇笔记（Markdown）
- 收藏网页（稍后读）独立于笔记
- 移除小窗口，仅保留主界面 + 菜单栏托盘

## 3. 关键规则
- URL 标准化：去 hash，移除 utm/ref/fbclid/gclid 等跟踪参数
- 摘要：正文前 2 句（无正文则退化为剪贴板内容）
- 关键词：简单 TF 统计
- 作者/时间：优先读取网页 meta
- 去重：文本/图片 hash + 30s 窗口

## 4. 当前实现状态（已完成）
- 数据模型：notes / clips / bookmarks + FTS
- 捕获：剪贴板轮询 + 自动入库 + 按来源归类
- 笔记详情：右侧展示描述栏 + clip 列表
- 一键复制整篇笔记（Markdown 输出）
- 收藏列表：独立页面，点击跳浏览器
- 菜单栏托盘：捕获开关/状态、立即捕获、收藏当前网页、打开主界面
- 快捷键：
  - `⌘ + Shift + X` 立即捕获
  - `⌘ + Shift + H` 暂停/恢复捕获

## 5. 常用命令
```bash
npm run build:renderer
npm start
```

## 6. 已知问题
- 网页正文抓取可能被反爬或超时
- 作者/时间 meta 质量依赖网站规范

## 7. 后续方向（可选）
- UI 细节打磨（列表信息密度、空状态、交互）
- 收藏列表搜索/筛选
- 手动合并/拆分笔记

## 8. 新对话使用方式
新对话时只需要说：
“请先读取 docs/PROJECT_CONTEXT.md 再继续”，即可自动对齐上下文。
